<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.users">
		<!-- 회원가입 -->
	<insert id="insertUsers" parameterType="com.kosta.petner.bean.UsersVo">
		<![CDATA[
			insert into users(userNo, userType, id, password,email,name,nickname,gender,address, joindate)
			values(userNo_seq.nextval, #{userType},#{id}, #{password},#{email},#{name}, #{nickname}, #{gender},#{address}, sysdate)					
		]]>
	</insert>
	
	
	<select id= "selectId" parameterType = "String" resultType= "com.kosta.petner.bean.UsersVo" >
	<![CDATA[
	select * from users where id =#{id}
	]]>	
	</select>
	
	
	<select id="doLogin" parameterType="String" resultType="com.kosta.petner.bean.UsersVo">
	<![CDATA[
		select userNo, userType, id, password,email,name,nickname,gender,address, joindate
		from users 
		where id=#{id} and password=#{password}
	]]>
	</select>
	
		<select id="doLoginCnt" parameterType="com.kosta.petner.bean.UsersVo" resultType="int"> 
	<![CDATA[
		SELECT count(*)
		FROM USERS 
		WHERE ID = #{id} and password = #{password}
	]]>
	</select>
	
</mapper>